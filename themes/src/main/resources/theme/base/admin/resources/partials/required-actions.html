<div class="col-sm-9 col-md-10 col-sm-push-3 col-md-push-2">
    <h1>{{:: 'authentication' | translate}}</h1>

    <kc-tabs-authentication></kc-tabs-authentication>
    <table class="table table-striped table-bordered">
        <thead>
        <tr data-ng-hide="unregisteredRequiredActions.length == 0">
            <th colspan = "4" class="kc-table-actions">
                <div class="pull-right" data-ng-show="access.manageRealm">
                    <button class="btn btn-default" data-ng-click="register()">{{:: 'register' | translate}}</button>
                </div>
            </th>
        </tr>
        <tr data-ng-hide="requiredActions.length == 0">
            <th>{{:: 'required-action' | translate}}</th>
            <th>{{:: 'enabled' | translate}}</th>
            <th>{{:: 'default-action' | translate}} <i class="fa fa-question-circle text-muted" tooltip-trigger="mouseover mouseout" tooltip="{{:: 'auth.default-action.tooltip' | translate}}" tooltip-placement="top"></i></th>
            <th>{{:: 'reset-action-every' | translate}} <i class="fa fa-question-circle text-muted" tooltip-trigger="mouseover mouseout" tooltip="{{:: 'auth.reset-action-every.tooltip' | translate}}" tooltip-placement="top"></i></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="requiredAction in requiredActions" data-ng-show="requiredActions.length > 0">
            <td class="kc-sorter">
                    <button data-ng-hide="flow.builtIn" data-ng-disabled="$first" class="btn btn-default btn-sm" data-ng-click="raisePriority(requiredAction)"><i class="fa fa-angle-up"></i></button>
                    <button data-ng-hide="flow.builtIn" data-ng-disabled="$last" class="btn btn-default btn-sm" data-ng-click="lowerPriority(requiredAction)"><i class="fa fa-angle-down"></i></button>
                    <span>{{requiredAction.name}}</span></span>
            </td>
            <td><input type="checkbox" ng-model="requiredAction.enabled" ng-change="updateRequiredAction(requiredAction)" id="{{requiredAction.alias}}.enabled"></td>
            <td><input type="checkbox" ng-model="requiredAction.defaultAction" ng-change="updateRequiredAction(requiredAction)" ng-disabled="!requiredAction.enabled" ng-checked="requiredAction.enabled && requiredAction.defaultAction" id="{{requiredAction.alias}}.defaultAction"></td>
            <td>
                <div ng-show="requiredAction.alias=='terms_and_conditions'" style="display:flex;">
                    <input type="number" string-to-number  min="0" ng-disabled="!requiredAction.enabled" data-ng-model="requiredAction.config['reset_every']" ng-change="changed=true" class="form-control" style="width:auto;"/>
                    <select ng-model="requiredAction.config['reset_every_multiplier']" ng-change="changed=true" ng-disabled="!requiredAction.enabled" class="form-control" style="width:auto;">
                        <option value="3600"><span>{{:: 'hours' | translate | lowercase }}</span></option>
                        <option value="86400"><span>{{:: 'days' | translate | lowercase }}</span></option>
                        <option value="2592000"><span>{{:: 'months' | translate | lowercase }}</span></option>
                    </select>
                    <button id="terms_reset_every_btn" class="btn btn-default btn-sm form-control" ng-show="changed && requiredAction.config['reset_every'] && requiredAction.config['reset_every_multiplier']" data-ng-click="resetRequiredActionEvery(requiredAction)" ng-disabled="!requiredAction.enabled" style="width:auto;"><i class="fa fa-save"></i></button>
                </div>
            </td>
        </tr>
        <tr data-ng-show="requiredActions.length == 0">
            <td>{{:: 'no-required-actions-configured' | translate}}</td>
        </tr>
        </tbody>
    </table>

</div>

<kc-menu></kc-menu>
